<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Portfolio – Baptiste Duval</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap">
<style>
  body { margin:0; font-family:Inter, sans-serif; background:#0f172a; color:#e8f0ff; }
  header { padding:20px; text-align:center; font-size:28px; font-weight:700; color:#3ec5ff; }
  .tabs { display:flex; justify-content:center; margin-top:20px; }
  .tab { padding:12px 24px; cursor:pointer; border-bottom:3px solid transparent; font-weight:600; color:#94a3b8; }
  .tab.active { color:#3ec5ff; border-color:#3ec5ff; }
  .content { max-width:900px; margin:30px auto; padding:20px; }
  .semestre { display:none; }
  .semestre.active { display:block; }
  .project-card { background:rgba(255,255,255,0.05); padding:20px; border-radius:14px; margin-bottom:20px; }
  .project-card h3 { margin:0 0 10px; color:#3ec5ff; }
  .project-card p { color:#cbd5e1; }
  .btn-download { margin-top:10px; display:inline-block; padding:10px 16px; background:#3ec5ff; color:#04263b; border-radius:10px; font-weight:700; text-decoration:none; cursor:pointer; }
  .btn-eval { background:#10b981 !important; margin-left:15px; }
  .btn-save { background:#f59e0b !important; }
  table { width:100%; border-collapse:collapse; margin-top:15px; }
  th, td { padding:12px; text-align:center; border:1px solid rgba(255,255,255,0.15); }
  th { background:rgba(62,197,255,0.2); color:#3ec5ff; }
  tbody tr:nth-child(even) { background:rgba(255,255,255,0.03); }
  input[type="radio"] { transform:scale(1.4); cursor:pointer; }
  .saved-msg { color:#34d399; font-weight:600; margin-top:15px; padding:12px; background:rgba(52,211,153,0.2); border-radius:8px; text-align:center; display:none; }
</style>
</head>
<body>
<header>Portfolio – Baptiste Duval</header>
<div style="text-align:center; margin-top:10px;">
  <button onclick="window.location.href='index.html'" style="padding:10px 20px; background:#3ec5ff; color:#04263b; border:none; border-radius:10px; font-weight:700; cursor:pointer;">
    Retour à l'accueil
  </button>
</div>
<div style="text-align:center; margin-top:20px; gap:20px; display:flex; justify-content:center; flex-wrap:wrap;">
  <button onclick="showMain('sae')" style="padding:10px 20px; background:#3ec5ff; color:#04263b; border:none; border-radius:10px; font-weight:700; cursor:pointer;">SAE</button>
  <button onclick="showMain('entreprise')" style="padding:10px 20px; background:#3ec5ff; color:#04263b; border:none; border-radius:10px; font-weight:700; cursor:pointer;">Travail en entreprise</button>
</div>

<!-- Onglets SAE -->
<div class="tabs" id="tabs-sae">
  <div class="tab active" onclick="showTab('s1', this)">Semestre 1</div>
  <div class="tab" onclick="showTab('s2', this)">Semestre 2</div>
</div>

<!-- Contenu SAE -->
<div id="content-sae">
  <div class="content">
    <!-- SEMESTRE 1 -->
    <div id="s1" class="semestre active">
      <div class="project-card">
        <h3>Projet 1 – SAE 501 : Infrastructure TP Conteneurisée</h3>
        <p><strong>SAE 501 – Mise en place d’une infrastructure de TP basée sur des conteneurs.</strong><br><br>
        L’objectif du projet était de créer une plateforme permettant de déployer automatiquement des environnements de Travaux Pratiques accessibles via un navigateur web. Nous avons conçu une infrastructure complète utilisant Docker, Flask, MySQL et une interface en noVNC pour permettre aux étudiants de créer, démarrer, arrêter ou supprimer leurs machines virtuelles.<br><br>
        <strong>Ce que j’ai réalisé :</strong>
        <ul>
          <li>Mise en place d’un orchestrateur de conteneurs pour gérer plusieurs environnements.</li>
          <li>Création d’images de conteneurs (Ubuntu, Kali Linux, Windows).</li>
          <li>Développement d’une interface web en Flask + HTML/CSS/JS.</li>
          <li>Système d’authentification sécurisé (mots de passe hachés, rôles admin/user).</li>
          <li>Gestion dynamique des conteneurs Docker (création, démarrage, suppression).</li>
          <li>Monitoring via logs utilisateur et supervision complète avec Portainer.</li>
        </ul>
        <br>
        <strong>Fonctionnalités techniques :</strong>
        <ul>
          <li>Déploiement instantané de machines virtuelles via Docker.</li>
          <li>Accès au bureau via navigateur grâce à noVNC.</li>
          <li>Isolation complète des conteneurs.</li>
          <li>Supervision système : CPU, RAM, nombre de conteneurs.</li>
        </ul>
        <br>
        <strong>Captures d’écran :</strong><br>
        <img src="page_connexion.png" alt="Connexion" style="width:100%;border-radius:10px;margin:10px 0;">
        <img src="users_gestion.png" alt="Gestion users" style="width:100%;border-radius:10px;margin:10px 0;">
        <img src="mach_gestion.png" alt="Gestion machines" style="width:100%;border-radius:10px;margin:10px 0;">
        </p>

        <a class="btn-download" href="Rapport-SAE501-Czurka-Negrila-Bauchart-Duval.pdf" download>Télécharger le rapport</a>
        <button class="btn-download btn-eval" onclick="toggleEval('auto-eval-sae501')">Auto-évaluation</button>

        <!-- AUTO-ÉVALUATION -->
        <div id="auto-eval-sae501" style="display:none; margin-top:25px; padding:20px; background:rgba(255,255,255,0.08); border-radius:14px;">
          <h4 style="color:#3ec5ff; text-align:center;">Auto-évaluation SAE 501</h4>
          <p style="font-size:0.9em; color:#94a3b8; text-align:center;">
            A = acquis parfaitement B = acquis C = partiellement acquis D = non acquis
          </p>
          <table>
            <thead>
              <tr>
                <th style="text-align:left; width:50%;">Compétence</th>
                <th>A</th><th>B</th><th>C</th><th>D</th>
              </tr>
            </thead>
            <tbody>
              <tr><td style="text-align:left;">Administrer les réseaux et l’internet</td><td><input type="radio" name="c1" value="A"></td><td><input type="radio" name="c1" value="B"></td><td><input type="radio" name="c1" value="C"></td><td><input type="radio" name="c1" value="D"></td></tr>
              <tr><td style="text-align:left;">Connecter les entreprises et les usagers</td><td><input type="radio" name="c2" value="A"></td><td><input type="radio" name="c2" value="B"></td><td><input type="radio" name="c2" value="C"></td><td><input type="radio" name="c2" value="D"></td></tr>
              <tr><td style="text-align:left;">Programmer</td><td><input type="radio" name="c3" value="A"></td><td><input type="radio" name="c3" value="B"></td><td><input type="radio" name="c3" value="C"></td><td><input type="radio" name="c3" value="D"></td></tr>
              <tr><td style="text-align:left;">Gérer des bases de données</td><td><input type="radio" name="c4" value="A"></td><td><input type="radio" name="c4" value="B"></td><td><input type="radio" name="c4" value="C"></td><td><input type="radio" name="c4" value="D"></td></tr>
              <tr><td style="text-align:left;">Travailler en mode projet</td><td><input type="radio" name="c5" value="A"></td><td><input type="radio" name="c5" value="B"></td><td><input type="radio" name="c5" value="C"></td><td><input type="radio" name="c5" value="D"></td></tr>
              <tr><td style="text-align:left;">Sécurité informatique</td><td><input type="radio" name="c6" value="A"></td><td><input type="radio" name="c6" value="B"></td><td><input type="radio" name="c6" value="C"></td><td><input type="radio" name="c6" value="D"></td></tr>
            </tbody>
          </table>

          <div style="text-align:center; margin-top:20px;">
            <button class="btn-download btn-save" onclick="saveEval()">Copier pour GitHub</button>
            <button class="btn-download" style="background:#ef4444; margin-left:10px;" onclick="clearEval()">Effacer</button>
          </div>

          <div id="saved-msg" class="saved-msg">
            Données copiées dans le presse-papier !<br>
            → Va sur GitHub → édite <code>sae501-eval.json</code> → colle → Commit
          </div>
        </div>
      </div>

      <!-- Autres projets (à compléter plus tard) -->
      <div class="project-card"><h3>Projet 2 – À compléter</h3><p>Description…</p></div>
      <div class="project-card"><h3>Projet 3 – À compléter</h3><p>Description…</p></div>
    </div>

    <!-- SEMESTRE 2 -->
    <div id="s2" class="semestre">
      <div class="project-card"><h3>Projet 1 – À compléter</h3><p>Description…</p></div>
    </div>
  </div>
</div>

<!-- SECTION ENTREPRISE (inchangée) -->
<div id="entreprise" style="display:none; max-width:900px; margin:30px auto; padding:20px;">
  <div class="project-card">
    <h3>Travail en entreprise – IT2i</h3>
    <p>Ton texte entreprise… (inchangé)</p>
  </div>
</div>

<script>
function showTab(id, el){
  document.querySelectorAll('.semestre').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  el.classList.add('active');
}
function showMain(section){
  document.getElementById('tabs-sae').style.display = section==='sae' ? 'flex' : 'none';
  document.getElementById('content-sae').style.display = section==='sae' ? 'block' : 'none';
  document.getElementById('entreprise').style.display = section==='entreprise' ? 'block' : 'none';
}

function toggleEval(id){
  const el = document.getElementById(id);
  el.style.display = el.style.display === 'block' ? 'none' : 'block';
  if(el.style.display === 'block') loadEval();
}

// === CHARGEMENT DU JSON DEPUIS GITHUB ===
async function loadEval() {
  try {
    const res = await fetch('sae501-eval.json?t=' + Date.now()); // anti-cache
    const data = await res.json();
    for(let i=1; i<=6; i++){
      if(data[`c${i}`]) {
        document.querySelector(`input[name="c${i}"][value="${data[`c${i}`]}"]`).checked = true;
      }
    }
  } catch(e) {
    console.log("Fichier sae501-eval.json pas encore créé ou pas de réseau → notes vides");
  }
}

// === SAUVEGARDE : copie dans le presse-papier ===
async function saveEval() {
  const data = {};
  for(let i=1; i<=6; i++){
    const sel = document.querySelector(`input[name="c${i}"]:checked`);
    data[`c${i}`] = sel ? sel.value : "";
  }
  const jsonPretty = JSON.stringify(data, null, 2);
  await navigator.clipboard.writeText(jsonPretty);
  const msg = document.getElementById('saved-msg');
  msg.style.display = 'block';
  setTimeout(() => msg.style.display = 'none', 8000);
}

function clearEval() {
  if(confirm("Effacer toutes les notes ?")) {
    document.querySelectorAll('#auto-eval-sae501 input[type="radio"]').forEach(r => r.checked = false);
  }
}

// Chargement auto si le tableau est ouvert
window.addEventListener('load', () => {
  if(document.getElementById('auto-eval-sae501').style.display === 'block'){
    loadEval();
  }
});
</script>
</body>
</html>
